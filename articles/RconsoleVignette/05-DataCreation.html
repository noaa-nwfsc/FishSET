<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="FishSET">
<title> • FishSET</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../../apple-touch-icon-60x60.png">
<script src="../../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../../pkgdown.js"></script><link href="../../extra.css" rel="stylesheet">
<meta property="og:title" content="">
<meta property="og:description" content="FishSET">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../../index.html">FishSET</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.8</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../../articles/FishSET_FunctionList.html">FishSET R package functions</a>
    <a class="dropdown-item" href="../../articles/FishSET_GUI_Quickstart_Guide.html">FishSET GUI Quickstart Guide</a>
    <a class="dropdown-item" href="../../articles/RconsoleVignette/02-Data.html">UNKNOWN TITLE</a>
    <a class="dropdown-item" href="../../articles/RconsoleVignette/03-DataExploration.html">UNKNOWN TITLE</a>
    <a class="dropdown-item" href="../../articles/RconsoleVignette/04-Spatial.html">UNKNOWN TITLE</a>
    <a class="dropdown-item" href="../../articles/RconsoleVignette/05-DataCreation.html">UNKNOWN TITLE</a>
    <a class="dropdown-item" href="../../articles/RconsoleVignette/06-Modeling.html">UNKNOWN TITLE</a>
    <a class="dropdown-item" href="../../articles/RconsoleVignette/07-Policy_Welfare.html">UNKNOWN TITLE</a>
    <a class="dropdown-item" href="../../articles/RconsoleVignette/08_reporting.html">UNKNOWN TITLE</a>
    <a class="dropdown-item" href="../../articles/RconsoleVignette/index.html">Using FishSET in the RConsole</a>
    <a class="dropdown-item" href="../../articles/scallop-example.html">scallop-example</a>
    <a class="dropdown-item" href="../../articles/scallop-mod-example.html">Scallop Conditional Logit Model Example</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../../logo.png" class="logo" alt=""><h1></h1>
            
      
      
      <div class="d-none name"><code>05-DataCreation.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="creating-and-modifying-data">Creating and Modifying Data<a class="anchor" aria-label="anchor" href="#creating-and-modifying-data"></a>
</h2>
<div class="section level4">
<h4 id="data-transformation-and-derivation-functions">Data transformation and derivation functions<a class="anchor" aria-label="anchor" href="#data-transformation-and-derivation-functions"></a>
</h4>
<p>Several functions exist that allow users to transform variables or
derive new variables and generate specific matrices. These functions are
useful to ensure date variables are in the necessary format, to generate
rate variables (such as catch/hours fished), calculate more complex
variables such as trip distance, and adding variance to confidential
data.</p>
<p>Data transformation</p>
<pre><code> set_quants()         Coded variable based on the quantiles.
 group_perc()         Within-group percentage.
 group_diff()         Within-group lagged difference.   
 group_cumsum()       Within-group running sum.</code></pre>
<p>Dummy</p>
<pre><code> dummy_num()          Vector of TRUE or FALSE, based on condition, the length (rows) of the data. 
 dummy_matrix()       Matrix with same dimensions at the data set filled with TRUE or FALSE.</code></pre>
<p>Nominal ID</p>
<pre><code> ID_var()                Generates a nominal variable to indicate distinct hauls or trips.
 create_seasonal_ID()    Generates a fishery season identifier (TRUE/FALSE).
 fleet_table()           Creates and saves a table of fleet conditions for fleet assignment.
 fleet_assign()          Creates a fleet assignment variable based on saved fleet table.</code></pre>
<p>Arithmetic</p>
<pre><code> create_var_num()     Defined arithmetic function of two variables.
 cpue()               Catch per unit effort.</code></pre>
<p>Spatial</p>
<pre><code>assignment_column()   Assign hauls to fishery or regulatory zones.
create_dist_between() Distance between lon/lat points, port, and/or centroid of fishing zone/area.
create_mid_haul()     Returns the midpoint location (lon/lat) for each haul.
create_startingloc()  Returns vector of zone/area at point when choice of where to go next was  
                      made. Used with logit_correction likelihood.</code></pre>
<p>Temporal</p>
<pre><code>temp_mod()            Transform date variable into desired units (year, month, month/day, minutes).
create_duration()     Duration of time between two temporal variables based on defined time format.</code></pre>
<p>Trip level</p>
<pre><code> haul_to_trip()       Collapse the data table from haul to trip.
 trip_distance()      Summed trip distance defined by start and end ports and hauls in between.
 trip_length()        Computes trip duration or hauls per trip. </code></pre>
<p>All functions require that <code>dat</code>, the name of the primary
dataset, be specified. Use quotes if the dataset is pulled from FishSET
database. Most functions in this section will add a new variable to the
primary dataset. The column name of the new variables is defined with
<code>name</code>. The column name defaults to the function name if
<code>name</code> is not specified. Spatial functions require a spatial
dataset.</p>
<p>###Function details</p>
<div class="section level5">
<h5 id="arithmetic">Arithmetic<a class="anchor" aria-label="anchor" href="#arithmetic"></a>
</h5>
<p><code>create_var_num(dat, x, y, method, name)</code> creates a new
numeric variable based on the defined arithmetic expression.
<code>x</code> and <code>y</code> are names of numeric variables.
<code>method</code> is an arithmetic expression such as addition,
subtraction, multiplication, and division.<br><br><code>cpue(dat, xWeight, xTime, name)</code> creates the catch per
unit effort variable. <code>xWeight</code> is the name of the variable
containing the catch data as a weight (pounds, tons, metric tons).
<code>xTime</code> is the duration of time and must be in weeks, days,
hours, or minutes. Use <code><a href="../../reference/create_duration.html">create_duration()</a></code> to transform a
date variable into a duration of time variable. If group-specific cpue
is required, cpue must be calculated for each species.</p>
</div>
<div class="section level5">
<h5 id="data-transformation">Data transformation<a class="anchor" aria-label="anchor" href="#data-transformation"></a>
</h5>
<p><code>group_perc(dat, project, id_group, group, value, name, create_group_ID, drop_total_col)</code>
creates a within-group percentage variable using primary
(<code>id_group</code>) and secondary (<code>group</code>) groups.
<code>value</code> is the name of a numeric variable to be used to
calculate percentages. The <code>group</code> percentage is calculated
as the sum of <code>value</code> across <code>group</code> (group_total)
divided by the sum of <code>value</code> across <code>id_group</code>
(total_group). <code>drop_total_col</code> is logical and defines
whether or not to add the total_group and group_total variables to the
dataset.<br><br><code>group_diff(dat, project, group, sort_by, value, name, lag, create_group_ID, drop_total_col)</code>
creates a group lagged difference variable within groups.
<code>value</code>, a numeric variable, is first summed by the
variable(s) in <code>group</code>, then the difference within-group is
calculated. <code>sort_by</code> is a date variable to order
<code>dat</code> by. The “group_total” variable gives the total value by
group and can be dropped by setting <code>drop_total_col = TRUE</code>.
A group ID column can be created using the variables in
<code>group</code> by setting <code>create_group_ID = TRUE</code>.<br><br><code>group_cumsum(dat, project, group, sort_by, value, name, create_group_ID, drop_total_col)</code>
sums <code>value</code> by group, then cumulatively sums within
<code>group</code>. For example, a running sum by trip can be made by
entering variables that identify unique vessels and trips into
<code>group</code> and a numeric variable (such as catch or number of
hauls) into <code>value</code>. The group total variable can be dropped
by setting <code>drop_total_col = TRUE</code>. A group ID column can be
created using the variables in group by setting
<code>create_group_ID = TRUE</code>.<br><br><code>set_quants(dat, x, quant.cat = c(0.2, 0.25, 0.4), custom.quant, name)</code>
transform <code>x</code> into a quantile category using pre-defined
(<code>quant.cat</code>) or user-defined (<code>custom.quant</code>)
quantiles.</p>
<dl>
<dt>Predefined quantiles</dt>
<dd>
<p>0.1 (0%, 10%, 20%, 30%, 40%, 50%, 60%, 70%, 80%, 90%, 100%)<br>
0.2 (0%, 20%, 40%, 60%, 80%, 100%)<br>
0.25 (0%, 25%, 50%, 75%, 100%)<br>
0.4 (0%, 10%, 50%, 90%, 100%)</p>
</dd>
</dl>
</div>
<div class="section level5">
<h5 id="dummy">Dummy<a class="anchor" aria-label="anchor" href="#dummy"></a>
</h5>
<p><code>dummy_num(dat, var, value, opts, name)</code> creates a binary
variable contrasting a variable (<code>var</code>) based on a splitting
value (<code>value</code>) and splitting rule (<code>opts</code>). The
function is used to contrast before/after a policy is implemented or
zone closures. <code>value</code> should be a year if <code>var</code>
is a date variable, a factor level if <code>var</code> is a factor
variable, a single or range of numbers if <code>var</code> is a numeric
variable. <code>Opts</code> may be <em>“x_y”</em> or
<em>“more_less”</em>. <em>“x_y”</em> sets each element of
<code>var</code> to 1 if the element matches <code>value</code>,
otherwise 0. For <em>“more_less”</em>, each element of <code>var</code>
less than <code>value</code> is set to 0 and all elements greater than
<code>value</code> are set to 1. If <code>var</code> is a factor, then
elements that match <code>value</code> will be set to 1 and all other
elements set to 0. Default is set to <em>“more_less”</em>.<br><br><code>dummy_matrix(dat, x)</code> creates a dummy matrix of
TRUE/FALSE based on values of variable <code>x</code> with dimensions
<em>(number of observations in dataset)</em> (number of factors in x)*
where each column is a unique factor level of <code>x</code>. Values are
TRUE if the value in the column matches the column factor level and
FALSE otherwise.</p>
</div>
<div class="section level5">
<h5 id="nominal-id">Nominal ID<a class="anchor" aria-label="anchor" href="#nominal-id"></a>
</h5>
<p><code>ID_var(dat, vars, name, type, drop)</code> is used to create a
haul or trip identifier variable from on or more variables
(<code>vars</code>). <code>type</code> is the class type of the new ID
column. Choices are <em>“string”</em> and <em>“integer”</em>.
<em>“string”</em> returns a character vector where each column in
<code>vars</code> is combined and separated with an underscore “_“.
<em>“integer”</em> returns an integer vector where each value
corresponds to a unique group in <code>vars</code>. Set
<code>drop = TRUE</code> to drop <code>vars</code> columns from
<code>dat</code>.<br><br><code>create_seasonal_ID(dat, seasonal.dat, use.location, use.geartype, sp.col, target)</code>
uses a table of fishery season dates to create one or more fishery
season identifier variables. The function matches fishery season dates
provided in <code>seasonal.dat</code> to the first date variable in
<code>dat</code>. If fishery season dates vary by location or gear type,
set <code>use.location = TRUE</code> and
<code>use.geartype = TRUE</code>. Output is a seasonID variable and/or
multiple <em>seasonID*fishery</em> variables. The seasonID variable is a
vector of fisheries. If a target fishery (<code>target</code>) is not
defined, each row is the first observed fishery in
<code>seasonal.dat</code> for which the fishery season dates encompasses
date in <code>dat</code>. If target fishery is defined, then SeasonID is
defined by whether the target fishery is open on the date in
<code>dat</code> or a different fishery. The vector is filled with
<em>“target”</em> or <em>“other”</em>. <em>SeasonID*fishery</em>
variables are a TRUE/FALSE seasonID vector for each fishery (labeled by
seasonID and fishery) where TRUE indicates the dates for a given row in
the main data table fall within the fishery dates for that fishery.</p>
</div>
<div class="section level5">
<h5 id="spatial">Spatial<a class="anchor" aria-label="anchor" href="#spatial"></a>
</h5>
<p><code>assignment_column(dat, project, gridfile, lon.dat, lat.dat, cat, closest.pt = FALSE, lon.grid = NULL, lat.grid = NULL, hull.polygon = FALSE, epsg = NULL)</code>
assigns observations (hauls) to zones. <code>gridfile</code> is the
spatial dataset defining zone boundaries, <code>lon.dat</code> and
<code>lat.dat</code> are variables in <code>dat</code> used to assign
each observation to a zone. <code>cat</code> is a variable or list in
<code>gridfile</code> that identifies the individual areas or zones.
<code>lon.grid</code> and <code>lat.grid</code>are properties or lists
from <code>gridfile</code> containing longitude and latitude data. These
data are required if <code>gridfile</code> is not class <em>sf</em>.
<code>hull.polygon</code> and <code>closest.pt</code> are logical
optional arguments. Set <code>hull.polygon = TRUE</code> if spatial data
creating polygons are sparse or irregular. To assign observations that
fall outside any zones to the closest zone polygon set
<code>closest.pt = TRUE</code>. <code>epsg</code> is the spatial
reference system. Specify <a href="http://spatialreference.org" class="external-link"><code>epsg</code></a> if the
projected coordinate systems do not match.<br><br><code>create_dist_between(dat, start, end, units, name)</code> adds
a distance between two points variable to <code>dat</code>.
<code>start</code> and <code>end</code> locations define how to find the
lon/lat of starting and ending locations. Options are a port (specify
port variable name), observed latitude and longitude location (specify
variable name containing longitude data then latitude data as a
character string), or the centroid of the observed fishery zone location
(specify ‘centroid’). Distance is returned in the requested
<code>units</code> (<em>“miles”, “kilometers”, “midpoint”</em>).
Additional arguments may be required, depending upon the
<code>start</code> and <code>end</code> arguments. These are added
through prompts.</p>
<dl>
<dt>Additional arguments</dt>
<dd>
<p><em>Port arguments</em><br>
portTable - Table contains the latitude and longitude of ports.</p>
</dd>
<dd>
<p><em>Centroids arguments</em><br>
gridfile - Spatial data file.<br>
lon.dat - Longitude variable from dat.<br>
lat.dat - Latitude variable from dat.<br>
lon.grid - Property or variable from gridfile containing longitude
data.<br>
lat.grid - Property or variable from gridfile containing latitude
data.<br>
cat - Property or variable from gridfile that identifies the individual
areas or zones.<br><br></p>
</dd>
</dl>
<p><code>create_mid_haul(dat, start=c("lon", "lat"), end=c("lon", "lat"), name)</code>
returns the latitude and longitude of the midpoint location of each
haul. Each row of <code>dat</code> must be a unique haul. Requires a
<code>start</code> and <code>end</code> point for each observation.
<code>start</code> and <code>end</code> must be specified in the order
of longitude then latitude.<br><br></p>
<p><code>create_startingloc(dat, gridfile, portTable, trip_id, haul_order, starting_port, lon.dat, lat.dat, cat, name, lon.grid, lat.grid)</code>
creates a variable containing the zone/area location of a vessel when
choice of where to fish next was made. This variable is required for the
full information model with Dahl’s correction (logit_correction). Unique
trips in <code>dat</code> are identified with <code>trip_id</code>.
<code>haul_order</code> identifies the order of hauls within
<code>trip_id</code>. Generally, the first zone of a trip is the
departure port and is identified with <code>starting_port</code>.
<code>gridfile</code> and <code>portTable</code> are additional data
tables containing information on zone boundaries and port locations,
respectively. These two data tables along with <code>lon.dat</code>,
<code>lat.dat</code>, <code>cat</code>, <code>lon.grid</code>, and
<code>lat.grid</code> are called by the <code><a href="../../reference/assignment_column.html">assignment_column()</a></code>
function to assign starting port locations and haul locations to zones.
<code>lon.grid</code> and <code>lat.grid</code> are required if
<code>gridfile</code> is a data frame or list.</p>
</div>
<div class="section level5">
<h5 id="temporal">Temporal<a class="anchor" aria-label="anchor" href="#temporal"></a>
</h5>
<p><code>temporal_mod(dat, x, define.format, name)</code> extracts a
time unit from <code>x</code>, date variable in <code>dat</code>, in the
desired format (<code>define.format</code>). The FishSET function
<code><a href="../../reference/date_parser.html">date_parser()</a></code> is first called to convert the date variable
into recognized class if required. The <code><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date()</a></code> function
from the <a href="https://www.rdocumentation.org/packages/base/versions/3.6.2/topics/as.Date" class="external-link">base
package</a> is then called to extract the time in the desired format.
<code>define.format</code> can be a predefined format (see below) or <a href="https://www.stat.berkeley.edu/~s133/dates.html" class="external-link">user-defined</a>.</p>
<p>Predefined formats:</p>
<pre><code>Value    as.Date format      Output   
_______________________________________________________________
year    "%Y"                 year
month   "%Y/%m"              year and month
day     "%Y/%m/%d"           year, month, and day
hour    "%Y/%m/%d %H"        year, month, day and hour
minute  “%Y/%m/%d %H:%M"     year, month, day, hour, and minute</code></pre>
<p><br><code>create_duration(dat, start, end, units=c("week", "day", "hour", "minute"), name)</code>
returns the duration of time, in specified <code>units</code>, between
two temporal variables (<code>start</code>, <code>end</code>) in
<code>dat</code>. A duration of time variable is required for other
functions, such as <code><a href="../../reference/cpue.html">cpue()</a></code>.</p>
</div>
<div class="section level5">
<h5 id="trip-level">Trip-level<a class="anchor" aria-label="anchor" href="#trip-level"></a>
</h5>
<p><code>haul_to_trip(dat, project, fun.numeric, fun.time, tripID)</code>
collapses <code>dat</code> from haul to trip level. Unique trips are
identified by <code>tripID</code>. <code>tripID</code> may be one or
more variables from <code>dat</code>. <code>fun.numeric</code> and
<code>fun.time</code> define how multiple observations for a trip are
collapsed. Options are <em>min</em>, <em>mean</em>, <em>max</em>, and
<em>sum</em> for numeric variables and <em>min</em>, <em>mean</em>, and
<em>max</em> for temporal variables. For variables that are not numeric
or dates, the first observation is used.<br><br><code>create_trip_distance(dat, PortTable, trip_id, starting_port, starting_haul = c("Lon", "Lat"), ending_haul = c("Lon", "Lat"), ending_port, haul_order, name, a = 6378137, f = 1/298.257223563)</code>
sums distance across a trip based on starting and ending ports and hauls
in between. Inputs are the trips, ports, and hauls from the primary
dataset, and the latitude and longitude of ports from the
<code>PortTable</code>. The ellipsoid arguments, <code>a</code> and
<code>f</code>, can be changed if an ellipsoid other than WGS84 is
appropriate. See the <a href="https://cran.r-project.org/web/packages/geosphere/geosphere.pdf" class="external-link">geosphere
R package</a>.<br><br><code>create_trip_centroid(dat, lon, lat, weight.var, ...)</code>
returns the centroid, in longitude and latitude, for each trip. Specify
a weighting variable (<code>weight.var</code>) to calculate the weighted
centroid. Additional arguments can be added that define unique trips. If
no additional arguments are added, each row will be treated as a unique
trip.</p>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Alan Haynie - NOAA Federal.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>

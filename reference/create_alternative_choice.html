<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Required step. Creates a list identifying how alternative fishing choices should
be defined. Output is saved to the FishSET database. Run this function before
running models. dat must have a zone assignment column (see
assignment_column()). In certain cases a centroid table must be saved to
the FishSET Database, see occasion_var for details."><title>Define alternative fishing choice — create_alternative_choice • FishSET</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Define alternative fishing choice — create_alternative_choice"><meta property="og:description" content="Required step. Creates a list identifying how alternative fishing choices should
be defined. Output is saved to the FishSET database. Run this function before
running models. dat must have a zone assignment column (see
assignment_column()). In certain cases a centroid table must be saved to
the FishSET Database, see occasion_var for details."><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">FishSET</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.8</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/FishSET_FunctionList.html">FishSET R package functions</a>
    <a class="dropdown-item" href="../articles/FishSET_GUI_Quickstart_Guide.html">FishSET GUI Quickstart Guide</a>
    <a class="dropdown-item" href="../articles/RconsoleVignette/02-Data.html">UNKNOWN TITLE</a>
    <a class="dropdown-item" href="../articles/RconsoleVignette/03-DataExploration.html">UNKNOWN TITLE</a>
    <a class="dropdown-item" href="../articles/RconsoleVignette/04-Spatial.html">UNKNOWN TITLE</a>
    <a class="dropdown-item" href="../articles/RconsoleVignette/05-DataCreation.html">UNKNOWN TITLE</a>
    <a class="dropdown-item" href="../articles/RconsoleVignette/06-Modeling.html">UNKNOWN TITLE</a>
    <a class="dropdown-item" href="../articles/RconsoleVignette/07-Policy_Welfare.html">UNKNOWN TITLE</a>
    <a class="dropdown-item" href="../articles/RconsoleVignette/08_reporting.html">UNKNOWN TITLE</a>
    <a class="dropdown-item" href="../articles/RconsoleVignette/index.html">Using FishSET in the RConsole</a>
    <a class="dropdown-item" href="../articles/scallop-example.html">Scallop Example</a>
    <a class="dropdown-item" href="../articles/scallop-mod-example.html">Scallop Conditional Logit Model Example</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Define alternative fishing choice</h1>
      
      <div class="d-none name"><code>create_alternative_choice.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Required step. Creates a list identifying how alternative fishing choices should
be defined. Output is saved to the FishSET database. Run this function before
running models. <code>dat</code> must have a zone assignment column (see
<code><a href="assignment_column.html">assignment_column()</a></code>). In certain cases a centroid table must be saved to
the FishSET Database, see <code>occasion_var</code> for details.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">create_alternative_choice</span><span class="op">(</span></span>
<span>  <span class="va">dat</span>,</span>
<span>  <span class="va">project</span>,</span>
<span>  occasion <span class="op">=</span> <span class="st">"zonal centroid"</span>,</span>
<span>  occasion_var <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  alt_var <span class="op">=</span> <span class="st">"zonal centroid"</span>,</span>
<span>  dist.unit <span class="op">=</span> <span class="st">"miles"</span>,</span>
<span>  min.haul <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  <span class="va">zoneID</span>,</span>
<span>  zone.cent.name <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  fish.cent.name <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  spat <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  spatID <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  outsample <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>dat</dt>
<dd><p>Required, main data frame containing data on hauls or trips.
Table in FishSET database should contain the string <code>MainDataTable</code>.</p></dd>


<dt>project</dt>
<dd><p>Required, name of project.</p></dd>


<dt>occasion</dt>
<dd><p>String, determines the starting point when calculating the
distance matrix. Options are <code>"zonal centroid"</code>, <code>"fishing centroid"</code>,
<code>"port"</code>, or <code>"lon-lat"</code>. See <code>occasion_var</code> for requirements.</p></dd>


<dt>occasion_var</dt>
<dd><p>Identifies an ID column or set of lon-lat variables needed
to create the distance matrix. Possible options depend on the value of
<code>occasion</code>:</p><dl><dt>Centroid</dt>
<dd><p>When <code>occasion = zonal/fishing centroid</code> the possible
options are <code>NULL</code>, the name of a zone ID variable, or a set coordinate
variables (in Lon-Lat order).</p><dl><dt>NULL</dt>
<dd><p>This will merge centroid lon-lat data to the primary table
using the column enter in <code>zoneID</code>. A centroid table must be saved
to the FishSET Database.</p></dd>

<dt>Zone ID</dt>
<dd><p>This option specifies the zone ID variable to merge the
centroid table to. For example, a column containing the previous zonal
area. A centroid table must be saved to the FishSET Database.</p></dd>

<dt>Lon-Lat</dt>
<dd><p>A string vector of length two containing the longitude
and latitude of an existing set centroid variables in <code>dat</code>.</p></dd>


</dl></dd>

<dt>Port</dt>
<dd><p>When <code>occasion = port</code> the possible options include the name
of a port ID variable or a set of lon-lat variables describing the
location of the port. A value of <code>NULL</code> will return an error.</p><dl><dt>Port ID</dt>
<dd><p>The name of a port ID variable in <code>dat</code> that will be
used to join the port table to the primary table. A port table
is required (see <code><a href="load_port.html">load_port()</a></code>) which contains the port name and
the longitude and latitude of each port.</p></dd>

<dt>Lon-Lat</dt>
<dd><p>A string vector of length two containing a port's
longitude and latitude in <code>dat</code>.</p></dd>


</dl></dd>

<dt>Lon-Lat</dt>
<dd><p>When <code>occasion = lon-lat</code>, <code>occasion_var</code> must contain a
string vector of length two containing the longitude and latitude of a
vessel's location in the <code>dat</code>. For example, the current or previous
haul location.</p></dd>


</dl></dd>


<dt>alt_var</dt>
<dd><p>Determines the alternative choices used to calculate the distance
matrix. <code>alt_var</code> may be the centroid of zonal assignment (<code>"zonal centroid"</code>),
<code>"fishing centroid"</code>, or the closest point in fishing zone
(<code>"nearest point"</code>). The centroid options require that the appropriate
centroid table has been saved to the project's FishSET Database. See
<code><a href="create_centroid.html">create_centroid()</a></code> to create and save centroids. List existing centroid
tables  by running <code>list_tables("project", type = "centroid")</code>.</p></dd>


<dt>dist.unit</dt>
<dd><p>String, how distance measure should be returned. Choices are
<code>"meters"</code> or <code>"m"</code>, <code>"kilometers"</code> or <code>"km"</code>, <code>"miles"</code>, or <code>"nmiles"</code>
(nautical miles). Defaults to <code>"miles"</code>.</p></dd>


<dt>min.haul</dt>
<dd><p>Required, numeric, minimum number of hauls. Zones with fewer
hauls than the <code>min.haul</code> value will not be included in model data.</p></dd>


<dt>zoneID</dt>
<dd><p>Variable in <code>dat</code> that identifies the individual zones or
areas.</p></dd>


<dt>zone.cent.name</dt>
<dd><p>The name of the zonal centroid table to use when
<code>occasion</code> or <code>alt_var</code> is set to <code>zonal centroid</code>. Use
<code>list_tables("project", type = "centroid")</code> to view existing centroid tables.
See <code><a href="create_centroid.html">create_centroid()</a></code> to create centroid tables or <code><a href="centroid_to_fsdb.html">centroid_to_fsdb()</a></code> to
create a centroid table from columns found in <code>dat</code>.</p></dd>


<dt>fish.cent.name</dt>
<dd><p>The name of the fishing centroid table to use when
<code>occasion</code> or <code>alt_var</code> is set to <code>fishing centroid</code>. Use
<code>list_tables("project", type = "centroid")</code> to view existing centroid tables.
See <code><a href="create_centroid.html">create_centroid()</a></code> to create centroid tables or <code><a href="centroid_to_fsdb.html">centroid_to_fsdb()</a></code> to
create a centroid table from columns found in <code>dat</code>.</p></dd>


<dt>spat</dt>
<dd><p>Required when <code>alt_var = 'nearest point'</code>. <code>spat</code> is a spatial
data file  containing information on fishery management or regulatory zones
boundaries. <code>sf</code> objects are recommended, but <code>sp</code> objects can be used as
well. See <code><a href="dat_to_sf.html">dat_to_sf()</a></code> to convert a spatial table read from a csv file to
an <code>sf</code> object. To upload your spatial data to the FishSETFolder see
<code><a href="load_spatial.html">load_spatial()</a></code>.If <code>spat</code> should come from the FishSET database, it should
be the name of the original file name, in quotes. For example,
<code>"pollockNMFSZonesSpatTable"</code>. Use <code><a href="tables_database.html">tables_database()</a></code> or
<code>list_tables("project", type = "spat")</code> to view the names of spatial tables
in the FishSET database.</p></dd>


<dt>spatID</dt>
<dd><p>Required when <code>alt_var = 'nearest point'</code>. Variable in <code>spat</code>
that identifies the individual zones or areas.</p></dd>


<dt>outsample</dt>
<dd><p>Logical, indicating whether this is for main data or out-of
sample data.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>Saves the alternative choice list to the FishSET database as a list.
Output includes: <br></p>


<table class="table table"><tr><td>dataZoneTrue:</td><td>Vector of 0/1 indicating whether the data from that
zone is to be included in the model</td><td>greaterNZ:</td><td>Zones which pass numofNecessary test</td></tr><tr><td>numOfNecessary:</td><td>Minimum number of hauls for zone to be included</td><td>altChoiceUnits:</td><td>Set to miles</td></tr><tr><td>altChoiceType:</td><td>Set to distance</td><td>occasion:</td><td>Identifies how to find latitude and longitude for starting point</td></tr><tr><td>occasion_var:</td><td>Identifies how to find latitude and longitude for starting point</td><td>alt_var:</td><td>Identifies how to find latitude and longitude for alternative choice</td></tr><tr><td>zoneRow:</td><td>Zones and choices array</td><td>zone_cent:</td><td>Geographic centroid for each zone. Generated from <code><a href="find_centroid.html">find_centroid()</a></code></td></tr><tr><td>fish_cent:</td><td>Fishing centroid for each zone. Generated from <code><a href="find_fishing_centroid.html">find_fishing_centroid()</a></code></td><td>zone_cent_name:</td><td>Name of the zonal centroid table</td></tr><tr><td>fish_cent_name:</td><td>Name of the fishing centroid table</td><td>spat:</td><td>Spatial data file</td></tr></table></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Defines the alternative fishing choices. These choices are used to develop
the matrix of distances between observed and alternative fishing choices (where
they could have fished but did not). The distance matrix is calculated by the
<code><a href="make_model_design.html">make_model_design()</a></code> function. <code>occasion</code> defines the observed fishing
location and <code>alt_var</code> the alternative fishing location. <code>occasion_var</code>
identifies an ID column or set of lon-lat variables needed to create the
distance matrix.</p>
<p>Parts of the alternative choice list are pulled by <code><a href="create_expectations.html">create_expectations()</a></code>,
<code><a href="make_model_design.html">make_model_design()</a></code>, and the model run <code><a href="discretefish_subroutine.html">discretefish_subroutine()</a></code>)
functions. These output include choices of which variable to use for catch and
which zones to include in analyses based on a minimum number of hauls per trip
within a zone. Note that if the alternative choice list is modified, the
<code><a href="create_expectations.html">create_expectations()</a></code> and <code><a href="make_model_design.html">make_model_design()</a></code> functions
should also be updated before rerunning models.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Alan Haynie - NOAA Federal.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

